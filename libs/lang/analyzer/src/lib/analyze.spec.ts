import { dictionaryLoadWordsFromFile } from '@analyzer/lang/dictionary';
import { analyze } from './analyze';
import { stopSegmentProcess } from '@analyzer/lang/analyzer';

describe('analyze', () => {
  beforeAll(dictionaryLoadWordsFromFile);
  afterAll(stopSegmentProcess);
  describe('simple', () => {
    it('日本語は美しい。', async () => {
      expect.assertions(1);
      expect(await analyze('日本語は美しい。')).toEqual([
        {
          conjugationTokens: [],
          deconjugation: null,
          dep: 'nsubj',
          dict: '日本語',
          entryIds: ['1464530'],
          head: 3,
          i: 1,
          norm: '',
          pos: 'NOUN',
          reading: 'ニホンゴ',
          surface: '日本語',
          tag: '名詞-普通名詞-一般',
          tokens: [
            {
              dep: 'compound',
              dict: '日本',
              head: 1,
              i: 0,
              norm: '日本',
              pos: 'PROPN',
              reading: 'ニホン',
              surface: '日本',
              tag: '名詞-固有名詞-地名-国',
            },
            {
              dep: 'nsubj',
              dict: '語',
              head: 3,
              i: 1,
              norm: '語',
              pos: 'NOUN',
              reading: 'ゴ',
              surface: '語',
              tag: '名詞-普通名詞-一般',
            },
          ],
          type: 'word',
        },
        {
          conjugationTokens: [],
          deconjugation: null,
          dep: 'case',
          dict: 'は',
          entryIds: ['2028920'],
          head: 1,
          i: 2,
          norm: '',
          pos: 'ADP',
          reading: 'ハ',
          surface: 'は',
          tag: '助詞-係助詞',
          tokens: [
            {
              dep: 'case',
              dict: 'は',
              head: 1,
              i: 2,
              norm: 'は',
              pos: 'ADP',
              reading: 'ハ',
              surface: 'は',
              tag: '助詞-係助詞',
            },
          ],
          type: 'word',
        },
        {
          conjugationTokens: [],
          deconjugation: [
            {
              conjugation: ['nonPast'],
              dict: '美しい',
              root: '美し',
              suffix: 'い',
              type: 'adj-i',
            },
            {
              conjugation: ['prenominal'],
              dict: '美しい',
              root: '美し',
              suffix: 'い',
              type: 'adj-i',
            },
          ],
          dep: 'ROOT',
          dict: '美しい',
          entryIds: ['1486360'],
          head: 3,
          i: 3,
          norm: '',
          pos: 'ADJ',
          reading: 'ウツクシイ',
          surface: '美しい',
          tag: '形容詞-一般',
          tokens: [
            {
              dep: 'ROOT',
              dict: '美しい',
              head: 3,
              i: 3,
              norm: '美しい',
              pos: 'ADJ',
              reading: 'ウツクシイ',
              surface: '美しい',
              tag: '形容詞-一般',
            },
          ],
          type: 'word',
        },
        {
          dep: 'punct',
          dict: '。',
          head: 3,
          i: 4,
          norm: '。',
          pos: 'PUNCT',
          reading: '。',
          surface: '。',
          tag: '補助記号-句点',
        },
      ]);
    });
    it('新しいパソコンが欲しい。', async () => {
      expect.assertions(1);
      expect(await analyze('新しいパソコンが欲しい。')).toEqual([
        {
          conjugationTokens: [],
          deconjugation: [
            {
              conjugation: ['nonPast'],
              dict: '新しい',
              root: '新し',
              suffix: 'い',
              type: 'adj-i',
            },
            {
              conjugation: ['prenominal'],
              dict: '新しい',
              root: '新し',
              suffix: 'い',
              type: 'adj-i',
            },
          ],
          dep: 'acl',
          dict: '新しい',
          entryIds: ['1361490'],
          head: 1,
          i: 0,
          norm: '',
          pos: 'ADJ',
          reading: 'アタラシイ',
          surface: '新しい',
          tag: '形容詞-一般',
          tokens: [
            {
              dep: 'acl',
              dict: '新しい',
              head: 1,
              i: 0,
              norm: '新しい',
              pos: 'ADJ',
              reading: 'アタラシイ',
              surface: '新しい',
              tag: '形容詞-一般',
            },
          ],
          type: 'word',
        },
        {
          conjugationTokens: [],
          deconjugation: null,
          dep: 'nsubj',
          dict: 'パソコン',
          entryIds: ['1101570'],
          head: 3,
          i: 1,
          norm: '',
          pos: 'NOUN',
          reading: 'パソコン',
          surface: 'パソコン',
          tag: '名詞-普通名詞-一般',
          tokens: [
            {
              dep: 'nsubj',
              dict: 'パソコン',
              head: 3,
              i: 1,
              norm: 'パソコン',
              pos: 'NOUN',
              reading: 'パソコン',
              surface: 'パソコン',
              tag: '名詞-普通名詞-一般',
            },
          ],
          type: 'word',
        },
        {
          conjugationTokens: [],
          deconjugation: null,
          dep: 'case',
          dict: 'が',
          entryIds: ['2028930'],
          head: 1,
          i: 2,
          norm: '',
          pos: 'ADP',
          reading: 'ガ',
          surface: 'が',
          tag: '助詞-格助詞',
          tokens: [
            {
              dep: 'case',
              dict: 'が',
              head: 1,
              i: 2,
              norm: 'が',
              pos: 'ADP',
              reading: 'ガ',
              surface: 'が',
              tag: '助詞-格助詞',
            },
          ],
          type: 'word',
        },
        {
          conjugationTokens: [],
          deconjugation: [
            {
              conjugation: ['nonPast'],
              dict: '欲しい',
              root: '欲し',
              suffix: 'い',
              type: 'adj-i',
            },
            {
              conjugation: ['prenominal'],
              dict: '欲しい',
              root: '欲し',
              suffix: 'い',
              type: 'adj-i',
            },
          ],
          dep: 'ROOT',
          dict: '欲しい',
          entryIds: ['1547330'],
          head: 3,
          i: 3,
          norm: '',
          pos: 'ADJ',
          reading: 'ホシイ',
          surface: '欲しい',
          tag: '形容詞-非自立可能',
          tokens: [
            {
              dep: 'ROOT',
              dict: '欲しい',
              head: 3,
              i: 3,
              norm: '欲しい',
              pos: 'ADJ',
              reading: 'ホシイ',
              surface: '欲しい',
              tag: '形容詞-非自立可能',
            },
          ],
          type: 'word',
        },
        {
          dep: 'punct',
          dict: '。',
          head: 3,
          i: 4,
          norm: '。',
          pos: 'PUNCT',
          reading: '。',
          surface: '。',
          tag: '補助記号-句点',
        },
      ]);
    });
  });
  describe('word boundaries', () => {
    it('ショックから元気を取り戻した。', async () => {
      expect.assertions(1);
      expect(await analyze('ショックから元気を取り戻した。')).toEqual([
        {
          conjugationTokens: [],
          deconjugation: null,
          dep: 'obl',
          dict: 'ショック',
          entryIds: ['1062660'],
          head: 4,
          i: 0,
          norm: '',
          pos: 'NOUN',
          reading: 'ショック',
          surface: 'ショック',
          tag: '名詞-普通名詞-形状詞可能',
          tokens: [
            {
              dep: 'obl',
              dict: 'ショック',
              head: 4,
              i: 0,
              norm: 'ショック',
              pos: 'NOUN',
              reading: 'ショック',
              surface: 'ショック',
              tag: '名詞-普通名詞-形状詞可能',
            },
          ],
          type: 'word',
        },
        {
          conjugationTokens: [],
          deconjugation: null,
          dep: 'case',
          dict: 'から',
          entryIds: ['1002980'],
          head: 0,
          i: 1,
          norm: '',
          pos: 'ADP',
          reading: 'カラ',
          surface: 'から',
          tag: '助詞-格助詞',
          tokens: [
            {
              dep: 'case',
              dict: 'から',
              head: 0,
              i: 1,
              norm: 'から',
              pos: 'ADP',
              reading: 'カラ',
              surface: 'から',
              tag: '助詞-格助詞',
            },
          ],
          type: 'word',
        },
        {
          conjugationTokens: [],
          deconjugation: null,
          dep: 'obj',
          dict: '元気',
          entryIds: ['1260720'],
          head: 4,
          i: 2,
          norm: '',
          pos: 'NOUN',
          reading: 'ゲンキ',
          surface: '元気',
          tag: '名詞-普通名詞-形状詞可能',
          tokens: [
            {
              dep: 'obj',
              dict: '元気',
              head: 4,
              i: 2,
              norm: '元気',
              pos: 'NOUN',
              reading: 'ゲンキ',
              surface: '元気',
              tag: '名詞-普通名詞-形状詞可能',
            },
          ],
          type: 'word',
        },
        {
          conjugationTokens: [],
          deconjugation: null,
          dep: 'case',
          dict: 'を',
          entryIds: ['2029010'],
          head: 2,
          i: 3,
          norm: '',
          pos: 'ADP',
          reading: 'ヲ',
          surface: 'を',
          tag: '助詞-格助詞',
          tokens: [
            {
              dep: 'case',
              dict: 'を',
              head: 2,
              i: 3,
              norm: 'を',
              pos: 'ADP',
              reading: 'ヲ',
              surface: 'を',
              tag: '助詞-格助詞',
            },
          ],
          type: 'word',
        },
        {
          conjugationTokens: [
            {
              dep: 'aux',
              dict: 'た',
              head: 5,
              i: 6,
              norm: 'た',
              pos: 'AUX',
              reading: 'タ',
              surface: 'た',
              tag: '助動詞',
            },
          ],
          deconjugation: [
            {
              conjugation: ['ta'],
              dict: '取り戻す',
              root: '取り戻',
              suffix: 'した',
              type: 'v5s',
            },
          ],
          dep: 'ROOT',
          dict: '取り戻す',
          entryIds: ['1326940'],
          head: 5,
          i: 5,
          norm: '',
          pos: 'VERB',
          reading: 'トリモドシタ',
          surface: '取り戻した',
          tag: '動詞-一般',
          tokens: [
            {
              dep: 'advcl',
              dict: '取る',
              head: 5,
              i: 4,
              norm: '取る',
              pos: 'VERB',
              reading: 'トリ',
              surface: '取り',
              tag: '動詞-一般',
            },
            {
              dep: 'ROOT',
              dict: '戻す',
              head: 5,
              i: 5,
              norm: '戻す',
              pos: 'VERB',
              reading: 'モドシ',
              surface: '戻し',
              tag: '動詞-一般',
            },
          ],
          type: 'word',
        },
        {
          dep: 'ROOT',
          dict: '。',
          head: 7,
          i: 7,
          norm: '。',
          pos: 'PUNCT',
          reading: '。',
          surface: '。',
          tag: '補助記号-句点',
        },
      ]);
    });
  });
  describe('grammar', () => {
    describe('conjugation', () => {
      it('食べさせられたくなかった。', async () => {
        expect.assertions(1);
        expect(await analyze('食べさせられたくなかった。')).toEqual([
          {
            name: 'tai',
            tokens: [
              {
                conjugationTokens: [
                  {
                    dep: 'aux',
                    dict: 'させる',
                    head: 0,
                    i: 1,
                    norm: 'させる',
                    pos: 'AUX',
                    reading: 'サセ',
                    surface: 'させ',
                    tag: '助動詞',
                  },
                  {
                    dep: 'aux',
                    dict: 'られる',
                    head: 0,
                    i: 2,
                    norm: 'られる',
                    pos: 'AUX',
                    reading: 'ラレ',
                    surface: 'られ',
                    tag: '助動詞',
                  },
                ],
                deconjugation: [
                  {
                    conjugation: ['passiveCausative', 'naiStem'],
                    dict: '食べる',
                    root: '食べ',
                    suffix: 'させられ',
                    type: 'v1',
                  },
                  {
                    conjugation: ['passiveCausative', 'masuStem'],
                    dict: '食べる',
                    root: '食べ',
                    suffix: 'させられ',
                    type: 'v1',
                  },
                ],
                dep: 'advcl',
                dict: '食べる',
                entryIds: ['1358280'],
                head: 4,
                i: 0,
                norm: '',
                pos: 'VERB',
                reading: 'タベサセラレ',
                surface: '食べさせられ',
                tag: '動詞-一般',
                tokens: [
                  {
                    dep: 'advcl',
                    dict: '食べる',
                    head: 4,
                    i: 0,
                    norm: '食べる',
                    pos: 'VERB',
                    reading: 'タベ',
                    surface: '食べ',
                    tag: '動詞-一般',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [
                  {
                    dep: 'ROOT',
                    dict: 'ない',
                    head: 4,
                    i: 4,
                    norm: '無い',
                    pos: 'ADJ',
                    reading: 'ナカッ',
                    surface: 'なかっ',
                    tag: '形容詞-非自立可能',
                  },
                  {
                    dep: 'aux',
                    dict: 'た',
                    head: 4,
                    i: 5,
                    norm: 'た',
                    pos: 'AUX',
                    reading: 'タ',
                    surface: 'た',
                    tag: '助動詞',
                  },
                ],
                deconjugation: [
                  {
                    conjugation: ['negative', 'ta'],
                    dict: 'たい',
                    root: 'た',
                    suffix: 'くなかった',
                    type: 'adj-i',
                  },
                ],
                dep: 'aux',
                dict: 'たい',
                entryIds: ['2017560'],
                head: 0,
                i: 3,
                norm: '',
                pos: 'AUX',
                reading: 'タクナカッタ',
                surface: 'たくなかった',
                tag: '助動詞',
                tokens: [
                  {
                    dep: 'aux',
                    dict: 'たい',
                    head: 0,
                    i: 3,
                    norm: 'たい',
                    pos: 'AUX',
                    reading: 'タク',
                    surface: 'たく',
                    tag: '助動詞',
                  },
                ],
                type: 'word',
              },
            ],
          },
          {
            dep: 'punct',
            dict: '。',
            head: 4,
            i: 6,
            norm: '。',
            pos: 'PUNCT',
            reading: '。',
            surface: '。',
            tag: '補助記号-句点',
          },
        ]);
      });
      describe('conditional', () => {
        it('忙しくなければ、手伝ってください。', async () => {
          expect.assertions(1);
          expect(await analyze('忙しくなければ、手伝ってください。')).toEqual([
            {
              conjugationTokens: [
                {
                  dep: 'advcl',
                  dict: 'ない',
                  head: 4,
                  i: 1,
                  norm: '無い',
                  pos: 'ADJ',
                  reading: 'ナケレ',
                  surface: 'なけれ',
                  tag: '形容詞-非自立可能',
                },
                {
                  dep: 'mark',
                  dict: 'ば',
                  head: 1,
                  i: 2,
                  norm: 'ば',
                  pos: 'SCONJ',
                  reading: 'バ',
                  surface: 'ば',
                  tag: '助詞-接続助詞',
                },
              ],
              deconjugation: [
                {
                  conjugation: ['negative', 'conditional'],
                  dict: '忙しい',
                  root: '忙し',
                  suffix: 'くなければ',
                  type: 'adj-i',
                },
              ],
              dep: 'advcl',
              dict: '忙しい',
              entryIds: ['1519290', '2835296'],
              head: 1,
              i: 0,
              norm: '',
              pos: 'ADJ',
              reading: 'イソガシクナケレバ',
              surface: '忙しくなければ',
              tag: '形容詞-一般',
              tokens: [
                {
                  dep: 'advcl',
                  dict: '忙しい',
                  head: 1,
                  i: 0,
                  norm: '忙しい',
                  pos: 'ADJ',
                  reading: 'イソガシク',
                  surface: '忙しく',
                  tag: '形容詞-一般',
                },
              ],
              type: 'word',
            },
            {
              dep: 'punct',
              dict: '、',
              head: 1,
              i: 3,
              norm: '、',
              pos: 'PUNCT',
              reading: '、',
              surface: '、',
              tag: '補助記号-読点',
            },
            {
              conjugationTokens: [
                {
                  dep: 'mark',
                  dict: 'て',
                  head: 4,
                  i: 5,
                  norm: 'て',
                  pos: 'SCONJ',
                  reading: 'テ',
                  surface: 'て',
                  tag: '助詞-接続助詞',
                },
              ],
              deconjugation: [
                {
                  conjugation: ['te'],
                  dict: '手伝う',
                  root: '手伝',
                  suffix: 'って',
                  type: 'v5u',
                },
              ],
              dep: 'ROOT',
              dict: '手伝う',
              entryIds: ['1328190'],
              head: 4,
              i: 4,
              norm: '',
              pos: 'VERB',
              reading: 'テツダッテ',
              surface: '手伝って',
              tag: '動詞-一般',
              tokens: [
                {
                  dep: 'ROOT',
                  dict: '手伝う',
                  head: 4,
                  i: 4,
                  norm: '手伝う',
                  pos: 'VERB',
                  reading: 'テツダッ',
                  surface: '手伝っ',
                  tag: '動詞-一般',
                },
              ],
              type: 'word',
            },
            {
              conjugationTokens: [],
              deconjugation: [
                {
                  conjugation: ['imperative'],
                  dict: 'くださる',
                  root: 'くださ',
                  suffix: 'い',
                  type: 'v5aru',
                },
                {
                  conjugation: ['masuStem'],
                  dict: 'くださる',
                  root: 'くださ',
                  suffix: 'い',
                  type: 'v5aru',
                },
              ],
              dep: 'fixed',
              dict: 'くださる',
              entryIds: ['1184280'],
              head: 5,
              i: 6,
              norm: '',
              pos: 'AUX',
              reading: 'クダサイ',
              surface: 'ください',
              tag: '動詞-非自立可能',
              tokens: [
                {
                  dep: 'fixed',
                  dict: 'くださる',
                  head: 5,
                  i: 6,
                  norm: '下さる',
                  pos: 'AUX',
                  reading: 'クダサイ',
                  surface: 'ください',
                  tag: '動詞-非自立可能',
                },
              ],
              type: 'word',
            },
            {
              dep: 'punct',
              dict: '。',
              head: 4,
              i: 7,
              norm: '。',
              pos: 'PUNCT',
              reading: '。',
              surface: '。',
              tag: '補助記号-句点',
            },
          ]);
        });
      });
      describe('passive causative', () => {
        it('忙しい時に待たせられることが好きではありません。', async () => {
          expect.assertions(1);
          expect(
            await analyze('忙しい時に待たせられることが好きではありません。')
          ).toEqual([
            {
              conjugationTokens: [],
              deconjugation: [
                {
                  conjugation: ['nonPast'],
                  dict: '忙しい',
                  root: '忙し',
                  suffix: 'い',
                  type: 'adj-i',
                },
                {
                  conjugation: ['prenominal'],
                  dict: '忙しい',
                  root: '忙し',
                  suffix: 'い',
                  type: 'adj-i',
                },
              ],
              dep: 'acl',
              dict: '忙しい',
              entryIds: ['1519290', '2835296'],
              head: 1,
              i: 0,
              norm: '',
              pos: 'ADJ',
              reading: 'イソガシイ',
              surface: '忙しい',
              tag: '形容詞-一般',
              tokens: [
                {
                  dep: 'acl',
                  dict: '忙しい',
                  head: 1,
                  i: 0,
                  norm: '忙しい',
                  pos: 'ADJ',
                  reading: 'イソガシイ',
                  surface: '忙しい',
                  tag: '形容詞-一般',
                },
              ],
              type: 'word',
            },
            {
              conjugationTokens: [],
              deconjugation: null,
              dep: 'obl',
              dict: '時',
              entryIds: ['1315840', '2020680', '2273940'],
              head: 3,
              i: 1,
              norm: '',
              pos: 'NOUN',
              reading: 'トキ',
              surface: '時',
              tag: '名詞-普通名詞-副詞可能',
              tokens: [
                {
                  dep: 'obl',
                  dict: '時',
                  head: 3,
                  i: 1,
                  norm: '時',
                  pos: 'NOUN',
                  reading: 'トキ',
                  surface: '時',
                  tag: '名詞-普通名詞-副詞可能',
                },
              ],
              type: 'word',
            },
            {
              conjugationTokens: [],
              deconjugation: null,
              dep: 'case',
              dict: 'に',
              entryIds: ['2028990'],
              head: 1,
              i: 2,
              norm: '',
              pos: 'ADP',
              reading: 'ニ',
              surface: 'に',
              tag: '助詞-格助詞',
              tokens: [
                {
                  dep: 'case',
                  dict: 'に',
                  head: 1,
                  i: 2,
                  norm: 'に',
                  pos: 'ADP',
                  reading: 'ニ',
                  surface: 'に',
                  tag: '助詞-格助詞',
                },
              ],
              type: 'word',
            },
            {
              conjugationTokens: [
                {
                  dep: 'aux',
                  dict: 'られる',
                  head: 3,
                  i: 5,
                  norm: 'られる',
                  pos: 'AUX',
                  reading: 'ラレル',
                  surface: 'られる',
                  tag: '助動詞',
                },
              ],
              deconjugation: [
                {
                  conjugation: ['passive', 'nonPast'],
                  dict: '待たせる',
                  root: '待たせ',
                  suffix: 'られる',
                  type: 'v1',
                },
                {
                  conjugation: ['potential', 'nonPast'],
                  dict: '待たせる',
                  root: '待たせ',
                  suffix: 'られる',
                  type: 'v1',
                },
              ],
              dep: 'acl',
              dict: '待たせる',
              entryIds: ['1641100'],
              head: 6,
              i: 3,
              norm: '',
              pos: 'VERB',
              reading: 'マタセラレル',
              surface: '待たせられる',
              tag: '動詞-一般',
              tokens: [
                {
                  dep: 'acl',
                  dict: '待つ',
                  head: 6,
                  i: 3,
                  norm: '待つ',
                  pos: 'VERB',
                  reading: 'マタ',
                  surface: '待た',
                  tag: '動詞-一般',
                },
                {
                  dep: 'aux',
                  dict: 'せる',
                  head: 3,
                  i: 4,
                  norm: 'せる',
                  pos: 'AUX',
                  reading: 'セ',
                  surface: 'せ',
                  tag: '助動詞',
                },
              ],
              type: 'word',
            },
            {
              conjugationTokens: [],
              deconjugation: null,
              dep: 'nsubj',
              dict: 'こと',
              entryIds: [
                '1241450',
                '1265960',
                '1313580',
                '1718120',
                '1956230',
                '2229780',
                '2585210',
              ],
              head: 8,
              i: 6,
              norm: '',
              pos: 'NOUN',
              reading: 'コト',
              surface: 'こと',
              tag: '名詞-普通名詞-一般',
              tokens: [
                {
                  dep: 'nsubj',
                  dict: 'こと',
                  head: 8,
                  i: 6,
                  norm: 'こと',
                  pos: 'NOUN',
                  reading: 'コト',
                  surface: 'こと',
                  tag: '名詞-普通名詞-一般',
                },
              ],
              type: 'word',
            },
            {
              conjugationTokens: [],
              deconjugation: null,
              dep: 'case',
              dict: 'が',
              entryIds: ['2028930'],
              head: 6,
              i: 7,
              norm: '',
              pos: 'ADP',
              reading: 'ガ',
              surface: 'が',
              tag: '助詞-格助詞',
              tokens: [
                {
                  dep: 'case',
                  dict: 'が',
                  head: 6,
                  i: 7,
                  norm: 'が',
                  pos: 'ADP',
                  reading: 'ガ',
                  surface: 'が',
                  tag: '助詞-格助詞',
                },
              ],
              type: 'word',
            },
            {
              conjugationTokens: [],
              deconjugation: null,
              dep: 'ROOT',
              dict: '好き',
              entryIds: ['1277450'],
              head: 8,
              i: 8,
              norm: '',
              pos: 'ADJ',
              reading: 'スキ',
              surface: '好き',
              tag: '形状詞-一般',
              tokens: [
                {
                  dep: 'ROOT',
                  dict: '好き',
                  head: 8,
                  i: 8,
                  norm: '好き',
                  pos: 'ADJ',
                  reading: 'スキ',
                  surface: '好き',
                  tag: '形状詞-一般',
                },
              ],
              type: 'word',
            },
            {
              conjugationTokens: [
                {
                  dep: 'case',
                  dict: 'は',
                  head: 8,
                  i: 10,
                  norm: 'は',
                  pos: 'ADP',
                  reading: 'ハ',
                  surface: 'は',
                  tag: '助詞-係助詞',
                },
                {
                  dep: 'fixed',
                  dict: 'ある',
                  head: 10,
                  i: 11,
                  norm: '有る',
                  pos: 'VERB',
                  reading: 'アリ',
                  surface: 'あり',
                  tag: '動詞-非自立可能',
                },
                {
                  dep: 'fixed',
                  dict: 'ます',
                  head: 10,
                  i: 12,
                  norm: 'ます',
                  pos: 'AUX',
                  reading: 'マセ',
                  surface: 'ませ',
                  tag: '助動詞',
                },
                {
                  dep: 'fixed',
                  dict: 'ぬ',
                  head: 10,
                  i: 13,
                  norm: 'ず',
                  pos: 'AUX',
                  reading: 'ン',
                  surface: 'ん',
                  tag: '助動詞',
                },
              ],
              deconjugation: [
                {
                  conjugation: ['formalNegative'],
                  dict: 'だ',
                  root: '',
                  suffix: 'ではありません',
                  type: 'cop',
                },
              ],
              dep: 'aux',
              dict: 'だ',
              entryIds: ['2089020'],
              head: 8,
              i: 9,
              norm: '',
              pos: 'AUX',
              reading: 'デハアリマセン',
              surface: 'ではありません',
              tag: '助動詞',
              tokens: [
                {
                  dep: 'aux',
                  dict: 'だ',
                  head: 8,
                  i: 9,
                  norm: 'だ',
                  pos: 'AUX',
                  reading: 'デ',
                  surface: 'で',
                  tag: '助動詞',
                },
              ],
              type: 'word',
            },
            {
              dep: 'punct',
              dict: '。',
              head: 8,
              i: 14,
              norm: '。',
              pos: 'PUNCT',
              reading: '。',
              surface: '。',
              tag: '補助記号-句点',
            },
          ]);
        });
      });
    });
    describe('polite', () => {
      describe('honorific', () => {
        it('先生はお教えになります。', async () => {
          expect.assertions(1);
          expect(await analyze('先生はお教えになります。')).toEqual([
            {
              conjugationTokens: [],
              deconjugation: null,
              dep: 'nsubj',
              dict: '先生',
              entryIds: ['1387990', '2727400', '2841735'],
              head: 5,
              i: 0,
              norm: '',
              pos: 'NOUN',
              reading: 'センセイ',
              surface: '先生',
              tag: '名詞-普通名詞-一般',
              tokens: [
                {
                  dep: 'nsubj',
                  dict: '先生',
                  head: 5,
                  i: 0,
                  norm: '先生',
                  pos: 'NOUN',
                  reading: 'センセイ',
                  surface: '先生',
                  tag: '名詞-普通名詞-一般',
                },
              ],
              type: 'word',
            },
            {
              conjugationTokens: [],
              deconjugation: null,
              dep: 'case',
              dict: 'は',
              entryIds: ['2028920'],
              head: 0,
              i: 1,
              norm: '',
              pos: 'ADP',
              reading: 'ハ',
              surface: 'は',
              tag: '助詞-係助詞',
              tokens: [
                {
                  dep: 'case',
                  dict: 'は',
                  head: 0,
                  i: 1,
                  norm: 'は',
                  pos: 'ADP',
                  reading: 'ハ',
                  surface: 'は',
                  tag: '助詞-係助詞',
                },
              ],
              type: 'word',
            },
            {
              name: 'honorific',
              tokens: [
                {
                  conjugationTokens: [],
                  deconjugation: null,
                  dep: 'compound',
                  dict: 'お',
                  entryIds: ['2268350', '2826528'],
                  head: 3,
                  i: 2,
                  norm: '',
                  pos: 'NOUN',
                  reading: 'オ',
                  surface: 'お',
                  tag: '接頭辞',
                  tokens: [
                    {
                      dep: 'compound',
                      dict: 'お',
                      head: 3,
                      i: 2,
                      norm: '御',
                      pos: 'NOUN',
                      reading: 'オ',
                      surface: 'お',
                      tag: '接頭辞',
                    },
                  ],
                  type: 'word',
                },
                {
                  conjugationTokens: [],
                  deconjugation: [
                    {
                      conjugation: ['naiStem'],
                      dict: '教える',
                      root: '教え',
                      suffix: '',
                      type: 'v1',
                    },
                    {
                      conjugation: ['masuStem'],
                      dict: '教える',
                      root: '教え',
                      suffix: '',
                      type: 'v1',
                    },
                  ],
                  dep: 'obl',
                  dict: '教える',
                  entryIds: ['1236900'],
                  head: 5,
                  i: 3,
                  norm: '',
                  pos: 'NOUN',
                  reading: 'オシエ',
                  surface: '教え',
                  tag: '動詞-一般',
                  tokens: [
                    {
                      dep: 'obl',
                      dict: '教える',
                      head: 5,
                      i: 3,
                      norm: '教える',
                      pos: 'NOUN',
                      reading: 'オシエ',
                      surface: '教え',
                      tag: '動詞-一般',
                    },
                  ],
                  type: 'word',
                },
                {
                  conjugationTokens: [],
                  deconjugation: null,
                  dep: 'case',
                  dict: 'に',
                  entryIds: ['2028990'],
                  head: 3,
                  i: 4,
                  norm: '',
                  pos: 'ADP',
                  reading: 'ニ',
                  surface: 'に',
                  tag: '助詞-格助詞',
                  tokens: [
                    {
                      dep: 'case',
                      dict: 'に',
                      head: 3,
                      i: 4,
                      norm: 'に',
                      pos: 'ADP',
                      reading: 'ニ',
                      surface: 'に',
                      tag: '助詞-格助詞',
                    },
                  ],
                  type: 'word',
                },
                {
                  conjugationTokens: [
                    {
                      dep: 'aux',
                      dict: 'ます',
                      head: 5,
                      i: 6,
                      norm: 'ます',
                      pos: 'AUX',
                      reading: 'マス',
                      surface: 'ます',
                      tag: '助動詞',
                    },
                  ],
                  deconjugation: [
                    {
                      conjugation: ['formal'],
                      dict: 'なる',
                      root: 'な',
                      suffix: 'ります',
                      type: 'v5r',
                    },
                  ],
                  dep: 'ROOT',
                  dict: 'なる',
                  entryIds: ['1375610', '1532910', '1611000'],
                  head: 5,
                  i: 5,
                  norm: '',
                  pos: 'VERB',
                  reading: 'ナリマス',
                  surface: 'なります',
                  tag: '動詞-非自立可能',
                  tokens: [
                    {
                      dep: 'ROOT',
                      dict: 'なる',
                      head: 5,
                      i: 5,
                      norm: '成る',
                      pos: 'VERB',
                      reading: 'ナリ',
                      surface: 'なり',
                      tag: '動詞-非自立可能',
                    },
                  ],
                  type: 'word',
                },
              ],
            },
            {
              dep: 'punct',
              dict: '。',
              head: 5,
              i: 7,
              norm: '。',
              pos: 'PUNCT',
              reading: '。',
              surface: '。',
              tag: '補助記号-句点',
            },
          ]);
        });
      });
      describe('humble', () => {
        it('先生にお聞きします。', async () => {
          expect.assertions(1);
          expect(await analyze('先生にお聞きします。')).toEqual([
            {
              conjugationTokens: [],
              deconjugation: null,
              dep: 'obl',
              dict: '先生',
              entryIds: ['1387990', '2727400', '2841735'],
              head: 3,
              i: 0,
              norm: '',
              pos: 'NOUN',
              reading: 'センセイ',
              surface: '先生',
              tag: '名詞-普通名詞-一般',
              tokens: [
                {
                  dep: 'obl',
                  dict: '先生',
                  head: 3,
                  i: 0,
                  norm: '先生',
                  pos: 'NOUN',
                  reading: 'センセイ',
                  surface: '先生',
                  tag: '名詞-普通名詞-一般',
                },
              ],
              type: 'word',
            },
            {
              conjugationTokens: [],
              deconjugation: null,
              dep: 'case',
              dict: 'に',
              entryIds: ['2028990'],
              head: 0,
              i: 1,
              norm: '',
              pos: 'ADP',
              reading: 'ニ',
              surface: 'に',
              tag: '助詞-格助詞',
              tokens: [
                {
                  dep: 'case',
                  dict: 'に',
                  head: 0,
                  i: 1,
                  norm: 'に',
                  pos: 'ADP',
                  reading: 'ニ',
                  surface: 'に',
                  tag: '助詞-格助詞',
                },
              ],
              type: 'word',
            },
            {
              name: 'humble',
              tokens: [
                {
                  conjugationTokens: [],
                  deconjugation: null,
                  dep: 'compound',
                  dict: 'お',
                  entryIds: ['2268350', '2826528'],
                  head: 3,
                  i: 2,
                  norm: '',
                  pos: 'NOUN',
                  reading: 'オ',
                  surface: 'お',
                  tag: '接頭辞',
                  tokens: [
                    {
                      dep: 'compound',
                      dict: 'お',
                      head: 3,
                      i: 2,
                      norm: '御',
                      pos: 'NOUN',
                      reading: 'オ',
                      surface: 'お',
                      tag: '接頭辞',
                    },
                  ],
                  type: 'word',
                },
                {
                  conjugationTokens: [],
                  deconjugation: [
                    {
                      conjugation: ['masuStem'],
                      dict: '聞く',
                      root: '聞',
                      suffix: 'き',
                      type: 'v5k',
                    },
                  ],
                  dep: 'ROOT',
                  dict: '聞く',
                  entryIds: ['1591110'],
                  head: 3,
                  i: 3,
                  norm: '',
                  pos: 'VERB',
                  reading: 'キキ',
                  surface: '聞き',
                  tag: '動詞-一般',
                  tokens: [
                    {
                      dep: 'ROOT',
                      dict: '聞く',
                      head: 3,
                      i: 3,
                      norm: '聞く',
                      pos: 'VERB',
                      reading: 'キキ',
                      surface: '聞き',
                      tag: '動詞-一般',
                    },
                  ],
                  type: 'word',
                },
                {
                  conjugationTokens: [
                    {
                      dep: 'aux',
                      dict: 'ます',
                      head: 3,
                      i: 5,
                      norm: 'ます',
                      pos: 'AUX',
                      reading: 'マス',
                      surface: 'ます',
                      tag: '助動詞',
                    },
                  ],
                  deconjugation: [
                    {
                      conjugation: ['formal'],
                      dict: 'する',
                      root: 'し',
                      suffix: 'ます',
                      type: 'vs-i',
                    },
                    {
                      conjugation: ['causative', 'nonPast'],
                      dict: 'しむ',
                      root: 'し',
                      suffix: 'ます',
                      type: 'v5m',
                    },
                  ],
                  dep: 'aux',
                  dict: 'する',
                  entryIds: [
                    '1157170',
                    '1298670',
                    '1567440',
                    '1581900',
                    '1595910',
                  ],
                  head: 3,
                  i: 4,
                  norm: '',
                  pos: 'AUX',
                  reading: 'シマス',
                  surface: 'します',
                  tag: '動詞-非自立可能',
                  tokens: [
                    {
                      dep: 'aux',
                      dict: 'する',
                      head: 3,
                      i: 4,
                      norm: '為る',
                      pos: 'AUX',
                      reading: 'シ',
                      surface: 'し',
                      tag: '動詞-非自立可能',
                    },
                  ],
                  type: 'word',
                },
              ],
            },
            {
              dep: 'punct',
              dict: '。',
              head: 3,
              i: 6,
              norm: '。',
              pos: 'PUNCT',
              reading: '。',
              surface: '。',
              tag: '補助記号-句点',
            },
          ]);
        });
      });
    });
    describe('obligation', () => {
      it('行かなくてはいけない。', async () => {
        expect.assertions(1);
        expect(await analyze('行かなくてはいけない。')).toEqual([
          {
            name: 'obligation',
            tokens: [
              {
                conjugationTokens: [
                  {
                    dep: 'aux',
                    dict: 'ない',
                    head: 0,
                    i: 1,
                    norm: 'ない',
                    pos: 'AUX',
                    reading: 'ナク',
                    surface: 'なく',
                    tag: '助動詞',
                  },
                  {
                    dep: 'mark',
                    dict: 'て',
                    head: 0,
                    i: 2,
                    norm: 'て',
                    pos: 'SCONJ',
                    reading: 'テ',
                    surface: 'て',
                    tag: '助詞-接続助詞',
                  },
                ],
                deconjugation: [
                  {
                    conjugation: ['negative', 'te'],
                    dict: '行く',
                    root: '行',
                    suffix: 'かなくて',
                    type: 'v5k-s',
                  },
                ],
                dep: 'ROOT',
                dict: '行く',
                entryIds: ['1578850'],
                head: 0,
                i: 0,
                norm: '',
                pos: 'VERB',
                reading: 'イカナクテ',
                surface: '行かなくて',
                tag: '動詞-非自立可能',
                tokens: [
                  {
                    dep: 'ROOT',
                    dict: '行く',
                    head: 0,
                    i: 0,
                    norm: '行く',
                    pos: 'VERB',
                    reading: 'イカ',
                    surface: '行か',
                    tag: '動詞-非自立可能',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'fixed',
                dict: 'は',
                entryIds: ['2028920'],
                head: 2,
                i: 3,
                norm: '',
                pos: 'ADP',
                reading: 'ハ',
                surface: 'は',
                tag: '助詞-係助詞',
                tokens: [
                  {
                    dep: 'fixed',
                    dict: 'は',
                    head: 2,
                    i: 3,
                    norm: 'は',
                    pos: 'ADP',
                    reading: 'ハ',
                    surface: 'は',
                    tag: '助詞-係助詞',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [
                  {
                    dep: 'aux',
                    dict: 'ない',
                    head: 0,
                    i: 5,
                    norm: 'ない',
                    pos: 'AUX',
                    reading: 'ナイ',
                    surface: 'ない',
                    tag: '助動詞',
                  },
                ],
                deconjugation: [
                  {
                    conjugation: ['negative'],
                    dict: 'いける',
                    root: 'いけ',
                    suffix: 'ない',
                    type: 'v1',
                  },
                ],
                dep: 'fixed',
                dict: 'いける',
                entryIds: ['1587190', '1631370', '2035430'],
                head: 2,
                i: 4,
                norm: '',
                pos: 'VERB',
                reading: 'イケナイ',
                surface: 'いけない',
                tag: '動詞-非自立可能',
                tokens: [
                  {
                    dep: 'fixed',
                    dict: 'いける',
                    head: 2,
                    i: 4,
                    norm: '行く',
                    pos: 'VERB',
                    reading: 'イケ',
                    surface: 'いけ',
                    tag: '動詞-非自立可能',
                  },
                ],
                type: 'word',
              },
            ],
          },
          {
            dep: 'punct',
            dict: '。',
            head: 0,
            i: 6,
            norm: '。',
            pos: 'PUNCT',
            reading: '。',
            surface: '。',
            tag: '補助記号-句点',
          },
        ]);
      });
    });
    describe('prohibition', () => {
      it('行ってはいけない。', async () => {
        expect.assertions(1);
        expect(await analyze('行ってはいけない。')).toEqual([
          {
            name: 'prohibition',
            tokens: [
              {
                conjugationTokens: [
                  {
                    dep: 'mark',
                    dict: 'て',
                    head: 0,
                    i: 1,
                    norm: 'て',
                    pos: 'SCONJ',
                    reading: 'テ',
                    surface: 'て',
                    tag: '助詞-接続助詞',
                  },
                ],
                deconjugation: [
                  {
                    conjugation: ['te'],
                    dict: '行う',
                    root: '行',
                    suffix: 'って',
                    type: 'v5u',
                  },
                  {
                    conjugation: ['te'],
                    dict: '行く',
                    root: '行',
                    suffix: 'って',
                    type: 'v5k-s',
                  },
                  {
                    conjugation: ['te'],
                    dict: '行る',
                    root: '行',
                    suffix: 'って',
                    type: 'v5r',
                  },
                ],
                dep: 'ROOT',
                dict: '行く',
                entryIds: ['1578850'],
                head: 0,
                i: 0,
                norm: '',
                pos: 'VERB',
                reading: 'イッテ',
                surface: '行って',
                tag: '動詞-非自立可能',
                tokens: [
                  {
                    dep: 'ROOT',
                    dict: '行く',
                    head: 0,
                    i: 0,
                    norm: '行く',
                    pos: 'VERB',
                    reading: 'イッ',
                    surface: '行っ',
                    tag: '動詞-非自立可能',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'fixed',
                dict: 'は',
                entryIds: ['2028920'],
                head: 1,
                i: 2,
                norm: '',
                pos: 'ADP',
                reading: 'ハ',
                surface: 'は',
                tag: '助詞-係助詞',
                tokens: [
                  {
                    dep: 'fixed',
                    dict: 'は',
                    head: 1,
                    i: 2,
                    norm: 'は',
                    pos: 'ADP',
                    reading: 'ハ',
                    surface: 'は',
                    tag: '助詞-係助詞',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [
                  {
                    dep: 'fixed',
                    dict: 'ない',
                    head: 1,
                    i: 4,
                    norm: 'ない',
                    pos: 'AUX',
                    reading: 'ナイ',
                    surface: 'ない',
                    tag: '助動詞',
                  },
                ],
                deconjugation: [
                  {
                    conjugation: ['negative'],
                    dict: 'いける',
                    root: 'いけ',
                    suffix: 'ない',
                    type: 'v1',
                  },
                ],
                dep: 'fixed',
                dict: 'いける',
                entryIds: ['1587190', '1631370', '2035430'],
                head: 1,
                i: 3,
                norm: '',
                pos: 'VERB',
                reading: 'イケナイ',
                surface: 'いけない',
                tag: '動詞-非自立可能',
                tokens: [
                  {
                    dep: 'fixed',
                    dict: 'いける',
                    head: 1,
                    i: 3,
                    norm: '行く',
                    pos: 'VERB',
                    reading: 'イケ',
                    surface: 'いけ',
                    tag: '動詞-非自立可能',
                  },
                ],
                type: 'word',
              },
            ],
          },
          {
            dep: 'punct',
            dict: '。',
            head: 0,
            i: 5,
            norm: '。',
            pos: 'PUNCT',
            reading: '。',
            surface: '。',
            tag: '補助記号-句点',
          },
        ]);
      });
    });
    describe('permission', () => {
      it('行ってもいい。', async () => {
        expect.assertions(1);
        expect(await analyze('行ってもいい。')).toEqual([
          {
            name: 'permission',
            tokens: [
              {
                conjugationTokens: [
                  {
                    dep: 'mark',
                    dict: 'て',
                    head: 0,
                    i: 1,
                    norm: 'て',
                    pos: 'SCONJ',
                    reading: 'テ',
                    surface: 'て',
                    tag: '助詞-接続助詞',
                  },
                ],
                deconjugation: [
                  {
                    conjugation: ['te'],
                    dict: '行う',
                    root: '行',
                    suffix: 'って',
                    type: 'v5u',
                  },
                  {
                    conjugation: ['te'],
                    dict: '行く',
                    root: '行',
                    suffix: 'って',
                    type: 'v5k-s',
                  },
                  {
                    conjugation: ['te'],
                    dict: '行る',
                    root: '行',
                    suffix: 'って',
                    type: 'v5r',
                  },
                ],
                dep: 'ROOT',
                dict: '行く',
                entryIds: ['1578850'],
                head: 0,
                i: 0,
                norm: '',
                pos: 'VERB',
                reading: 'イッテ',
                surface: '行って',
                tag: '動詞-非自立可能',
                tokens: [
                  {
                    dep: 'ROOT',
                    dict: '行く',
                    head: 0,
                    i: 0,
                    norm: '行く',
                    pos: 'VERB',
                    reading: 'イッ',
                    surface: '行っ',
                    tag: '動詞-非自立可能',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'fixed',
                dict: 'も',
                entryIds: ['2028940'],
                head: 1,
                i: 2,
                norm: '',
                pos: 'ADP',
                reading: 'モ',
                surface: 'も',
                tag: '助詞-係助詞',
                tokens: [
                  {
                    dep: 'fixed',
                    dict: 'も',
                    head: 1,
                    i: 2,
                    norm: 'も',
                    pos: 'ADP',
                    reading: 'モ',
                    surface: 'も',
                    tag: '助詞-係助詞',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [],
                deconjugation: [
                  {
                    conjugation: ['nonPast'],
                    dict: 'いい',
                    root: 'い',
                    suffix: 'い',
                    type: 'adj-ix',
                  },
                  {
                    conjugation: ['prenominal'],
                    dict: 'いい',
                    root: 'い',
                    suffix: 'い',
                    type: 'adj-ix',
                  },
                ],
                dep: 'fixed',
                dict: 'いい',
                entryIds: ['2820690'],
                head: 1,
                i: 3,
                norm: '',
                pos: 'AUX',
                reading: 'イイ',
                surface: 'いい',
                tag: '形容詞-非自立可能',
                tokens: [
                  {
                    dep: 'fixed',
                    dict: 'いい',
                    head: 1,
                    i: 3,
                    norm: '良い',
                    pos: 'AUX',
                    reading: 'イイ',
                    surface: 'いい',
                    tag: '形容詞-非自立可能',
                  },
                ],
                type: 'word',
              },
            ],
          },
          {
            dep: 'punct',
            dict: '。',
            head: 0,
            i: 4,
            norm: '。',
            pos: 'PUNCT',
            reading: '。',
            surface: '。',
            tag: '補助記号-句点',
          },
        ]);
      });
    });
    describe('advice', () => {
      it('行って方がいい。', async () => {
        expect.assertions(1);
        expect(await analyze('行って方がいい。')).toEqual([
          {
            name: 'advice',
            tokens: [
              {
                conjugationTokens: [
                  {
                    dep: 'mark',
                    dict: 'て',
                    head: 0,
                    i: 1,
                    norm: 'て',
                    pos: 'SCONJ',
                    reading: 'テ',
                    surface: 'て',
                    tag: '助詞-接続助詞',
                  },
                ],
                deconjugation: [
                  {
                    conjugation: ['te'],
                    dict: '行う',
                    root: '行',
                    suffix: 'って',
                    type: 'v5u',
                  },
                  {
                    conjugation: ['te'],
                    dict: '行く',
                    root: '行',
                    suffix: 'って',
                    type: 'v5k-s',
                  },
                  {
                    conjugation: ['te'],
                    dict: '行る',
                    root: '行',
                    suffix: 'って',
                    type: 'v5r',
                  },
                ],
                dep: 'advcl',
                dict: '行く',
                entryIds: ['1578850'],
                head: 4,
                i: 0,
                norm: '',
                pos: 'VERB',
                reading: 'イッテ',
                surface: '行って',
                tag: '動詞-非自立可能',
                tokens: [
                  {
                    dep: 'advcl',
                    dict: '行く',
                    head: 4,
                    i: 0,
                    norm: '行く',
                    pos: 'VERB',
                    reading: 'イッ',
                    surface: '行っ',
                    tag: '動詞-非自立可能',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'nsubj',
                dict: '方',
                entryIds: ['1516925', '1516930', '1545790', '2254960'],
                head: 4,
                i: 2,
                norm: '',
                pos: 'NOUN',
                reading: 'ホウ',
                surface: '方',
                tag: '名詞-普通名詞-一般',
                tokens: [
                  {
                    dep: 'nsubj',
                    dict: '方',
                    head: 4,
                    i: 2,
                    norm: '方',
                    pos: 'NOUN',
                    reading: 'ホウ',
                    surface: '方',
                    tag: '名詞-普通名詞-一般',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'case',
                dict: 'が',
                entryIds: ['2028930'],
                head: 2,
                i: 3,
                norm: '',
                pos: 'ADP',
                reading: 'ガ',
                surface: 'が',
                tag: '助詞-格助詞',
                tokens: [
                  {
                    dep: 'case',
                    dict: 'が',
                    head: 2,
                    i: 3,
                    norm: 'が',
                    pos: 'ADP',
                    reading: 'ガ',
                    surface: 'が',
                    tag: '助詞-格助詞',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [],
                deconjugation: [
                  {
                    conjugation: ['nonPast'],
                    dict: 'いい',
                    root: 'い',
                    suffix: 'い',
                    type: 'adj-ix',
                  },
                  {
                    conjugation: ['prenominal'],
                    dict: 'いい',
                    root: 'い',
                    suffix: 'い',
                    type: 'adj-ix',
                  },
                ],
                dep: 'ROOT',
                dict: 'いい',
                entryIds: ['2820690'],
                head: 4,
                i: 4,
                norm: '',
                pos: 'ADJ',
                reading: 'イイ',
                surface: 'いい',
                tag: '形容詞-非自立可能',
                tokens: [
                  {
                    dep: 'ROOT',
                    dict: 'いい',
                    head: 4,
                    i: 4,
                    norm: '良い',
                    pos: 'ADJ',
                    reading: 'イイ',
                    surface: 'いい',
                    tag: '形容詞-非自立可能',
                  },
                ],
                type: 'word',
              },
            ],
          },
          {
            dep: 'punct',
            dict: '。',
            head: 4,
            i: 5,
            norm: '。',
            pos: 'PUNCT',
            reading: '。',
            surface: '。',
            tag: '補助記号-句点',
          },
        ]);
      });
      it('行って方がよかった。', async () => {
        expect.assertions(1);
        expect(await analyze('行って方がよかった。')).toEqual([
          {
            name: 'advice',
            tokens: [
              {
                conjugationTokens: [
                  {
                    dep: 'mark',
                    dict: 'て',
                    head: 0,
                    i: 1,
                    norm: 'て',
                    pos: 'SCONJ',
                    reading: 'テ',
                    surface: 'て',
                    tag: '助詞-接続助詞',
                  },
                ],
                deconjugation: [
                  {
                    conjugation: ['te'],
                    dict: '行う',
                    root: '行',
                    suffix: 'って',
                    type: 'v5u',
                  },
                  {
                    conjugation: ['te'],
                    dict: '行く',
                    root: '行',
                    suffix: 'って',
                    type: 'v5k-s',
                  },
                  {
                    conjugation: ['te'],
                    dict: '行る',
                    root: '行',
                    suffix: 'って',
                    type: 'v5r',
                  },
                ],
                dep: 'advcl',
                dict: '行く',
                entryIds: ['1578850'],
                head: 4,
                i: 0,
                norm: '',
                pos: 'VERB',
                reading: 'イッテ',
                surface: '行って',
                tag: '動詞-非自立可能',
                tokens: [
                  {
                    dep: 'advcl',
                    dict: '行く',
                    head: 4,
                    i: 0,
                    norm: '行く',
                    pos: 'VERB',
                    reading: 'イッ',
                    surface: '行っ',
                    tag: '動詞-非自立可能',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'nsubj',
                dict: '方',
                entryIds: ['1516925', '1516930', '1545790', '2254960'],
                head: 4,
                i: 2,
                norm: '',
                pos: 'NOUN',
                reading: 'ホウ',
                surface: '方',
                tag: '名詞-普通名詞-一般',
                tokens: [
                  {
                    dep: 'nsubj',
                    dict: '方',
                    head: 4,
                    i: 2,
                    norm: '方',
                    pos: 'NOUN',
                    reading: 'ホウ',
                    surface: '方',
                    tag: '名詞-普通名詞-一般',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'case',
                dict: 'が',
                entryIds: ['2028930'],
                head: 2,
                i: 3,
                norm: '',
                pos: 'ADP',
                reading: 'ガ',
                surface: 'が',
                tag: '助詞-格助詞',
                tokens: [
                  {
                    dep: 'case',
                    dict: 'が',
                    head: 2,
                    i: 3,
                    norm: 'が',
                    pos: 'ADP',
                    reading: 'ガ',
                    surface: 'が',
                    tag: '助詞-格助詞',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [
                  {
                    dep: 'aux',
                    dict: 'た',
                    head: 4,
                    i: 5,
                    norm: 'た',
                    pos: 'AUX',
                    reading: 'タ',
                    surface: 'た',
                    tag: '助動詞',
                  },
                ],
                deconjugation: [
                  {
                    conjugation: ['ta'],
                    dict: 'よい',
                    root: 'よ',
                    suffix: 'かった',
                    type: 'adj-i',
                  },
                ],
                dep: 'ROOT',
                dict: 'よい',
                entryIds: ['1605820'],
                head: 4,
                i: 4,
                norm: '',
                pos: 'ADJ',
                reading: 'ヨカッタ',
                surface: 'よかった',
                tag: '形容詞-非自立可能',
                tokens: [
                  {
                    dep: 'ROOT',
                    dict: 'よい',
                    head: 4,
                    i: 4,
                    norm: '良い',
                    pos: 'ADJ',
                    reading: 'ヨカッ',
                    surface: 'よかっ',
                    tag: '形容詞-非自立可能',
                  },
                ],
                type: 'word',
              },
            ],
          },
          {
            dep: 'punct',
            dict: '。',
            head: 4,
            i: 6,
            norm: '。',
            pos: 'PUNCT',
            reading: '。',
            surface: '。',
            tag: '補助記号-句点',
          },
        ]);
      });
    });
    describe('suffixes', () => {
      it('ハンバーガーを食べ過ぎないでください。', async () => {
        expect.assertions(1);
        expect(await analyze('ハンバーガーを食べ過ぎないでください。')).toEqual(
          [
            {
              conjugationTokens: [],
              deconjugation: null,
              dep: 'obj',
              dict: 'ハンバーガー',
              entryIds: ['1096860'],
              head: 2,
              i: 0,
              norm: '',
              pos: 'NOUN',
              reading: 'ハンバーガー',
              surface: 'ハンバーガー',
              tag: '名詞-普通名詞-一般',
              tokens: [
                {
                  dep: 'obj',
                  dict: 'ハンバーガー',
                  head: 2,
                  i: 0,
                  norm: 'ハンバーガー',
                  pos: 'NOUN',
                  reading: 'ハンバーガー',
                  surface: 'ハンバーガー',
                  tag: '名詞-普通名詞-一般',
                },
              ],
              type: 'word',
            },
            {
              conjugationTokens: [],
              deconjugation: null,
              dep: 'case',
              dict: 'を',
              entryIds: ['2029010'],
              head: 0,
              i: 1,
              norm: '',
              pos: 'ADP',
              reading: 'ヲ',
              surface: 'を',
              tag: '助詞-格助詞',
              tokens: [
                {
                  dep: 'case',
                  dict: 'を',
                  head: 0,
                  i: 1,
                  norm: 'を',
                  pos: 'ADP',
                  reading: 'ヲ',
                  surface: 'を',
                  tag: '助詞-格助詞',
                },
              ],
              type: 'word',
            },
            {
              name: 'without',
              tokens: [
                {
                  conjugationTokens: [
                    {
                      dep: 'aux',
                      dict: 'ない',
                      head: 2,
                      i: 4,
                      norm: 'ない',
                      pos: 'AUX',
                      reading: 'ナイ',
                      surface: 'ない',
                      tag: '助動詞',
                    },
                  ],
                  deconjugation: [
                    {
                      conjugation: ['negative'],
                      dict: '食べ過ぎる',
                      root: '食べ過ぎ',
                      suffix: 'ない',
                      type: 'v1',
                    },
                  ],
                  dep: 'ROOT',
                  dict: '食べ過ぎる',
                  entryIds: ['1358300'],
                  head: 2,
                  i: 2,
                  norm: '',
                  pos: 'VERB',
                  reading: 'タベスギナイ',
                  surface: '食べ過ぎない',
                  tag: '動詞-一般',
                  tokens: [
                    {
                      dep: 'ROOT',
                      dict: '食べる',
                      head: 2,
                      i: 2,
                      norm: '食べる',
                      pos: 'VERB',
                      reading: 'タベ',
                      surface: '食べ',
                      tag: '動詞-一般',
                    },
                    {
                      dep: 'advcl',
                      dict: '過ぎる',
                      head: 2,
                      i: 3,
                      norm: '過ぎる',
                      pos: 'VERB',
                      reading: 'スギ',
                      surface: '過ぎ',
                      tag: '動詞-非自立可能',
                    },
                  ],
                  type: 'word',
                },
                {
                  conjugationTokens: [],
                  deconjugation: null,
                  dep: 'mark',
                  dict: 'で',
                  entryIds: ['2028980', '2844355'],
                  head: 2,
                  i: 5,
                  norm: '',
                  pos: 'SCONJ',
                  reading: 'デ',
                  surface: 'で',
                  tag: '助詞-接続助詞',
                  tokens: [
                    {
                      dep: 'mark',
                      dict: 'で',
                      head: 2,
                      i: 5,
                      norm: 'で',
                      pos: 'SCONJ',
                      reading: 'デ',
                      surface: 'で',
                      tag: '助詞-接続助詞',
                    },
                  ],
                  type: 'word',
                },
              ],
            },
            {
              conjugationTokens: [],
              deconjugation: [
                {
                  conjugation: ['imperative'],
                  dict: 'くださる',
                  root: 'くださ',
                  suffix: 'い',
                  type: 'v5aru',
                },
                {
                  conjugation: ['masuStem'],
                  dict: 'くださる',
                  root: 'くださ',
                  suffix: 'い',
                  type: 'v5aru',
                },
              ],
              dep: 'fixed',
              dict: 'くださる',
              entryIds: ['1184280'],
              head: 5,
              i: 6,
              norm: '',
              pos: 'AUX',
              reading: 'クダサイ',
              surface: 'ください',
              tag: '動詞-非自立可能',
              tokens: [
                {
                  dep: 'fixed',
                  dict: 'くださる',
                  head: 5,
                  i: 6,
                  norm: '下さる',
                  pos: 'AUX',
                  reading: 'クダサイ',
                  surface: 'ください',
                  tag: '動詞-非自立可能',
                },
              ],
              type: 'word',
            },
            {
              dep: 'punct',
              dict: '。',
              head: 2,
              i: 7,
              norm: '。',
              pos: 'PUNCT',
              reading: '。',
              surface: '。',
              tag: '補助記号-句点',
            },
          ]
        );
      });
      it('日本語は読みにくいです。', async () => {
        expect.assertions(1);
        expect(await analyze('日本語は読みにくいです。')).toEqual([
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'nsubj',
            dict: '日本語',
            entryIds: ['1464530'],
            head: 3,
            i: 1,
            norm: '',
            pos: 'NOUN',
            reading: 'ニホンゴ',
            surface: '日本語',
            tag: '名詞-普通名詞-一般',
            tokens: [
              {
                dep: 'compound',
                dict: '日本',
                head: 1,
                i: 0,
                norm: '日本',
                pos: 'PROPN',
                reading: 'ニホン',
                surface: '日本',
                tag: '名詞-固有名詞-地名-国',
              },
              {
                dep: 'nsubj',
                dict: '語',
                head: 3,
                i: 1,
                norm: '語',
                pos: 'NOUN',
                reading: 'ゴ',
                surface: '語',
                tag: '名詞-普通名詞-一般',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'case',
            dict: 'は',
            entryIds: ['2028920'],
            head: 1,
            i: 2,
            norm: '',
            pos: 'ADP',
            reading: 'ハ',
            surface: 'は',
            tag: '助詞-係助詞',
            tokens: [
              {
                dep: 'case',
                dict: 'は',
                head: 1,
                i: 2,
                norm: 'は',
                pos: 'ADP',
                reading: 'ハ',
                surface: 'は',
                tag: '助詞-係助詞',
              },
            ],
            type: 'word',
          },
          {
            name: 'nikui',
            tokens: [
              {
                conjugationTokens: [],
                deconjugation: [
                  {
                    conjugation: ['masuStem'],
                    dict: '読む',
                    root: '読',
                    suffix: 'み',
                    type: 'v5m',
                  },
                ],
                dep: 'ROOT',
                dict: '読む',
                entryIds: ['1456360'],
                head: 3,
                i: 3,
                norm: '',
                pos: 'VERB',
                reading: 'ヨミ',
                surface: '読み',
                tag: '動詞-一般',
                tokens: [
                  {
                    dep: 'ROOT',
                    dict: '読む',
                    head: 3,
                    i: 3,
                    norm: '読む',
                    pos: 'VERB',
                    reading: 'ヨミ',
                    surface: '読み',
                    tag: '動詞-一般',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'aux',
                dict: 'にくい',
                entryIds: ['2772730'],
                head: 3,
                i: 4,
                norm: '',
                pos: 'AUX',
                reading: 'ニクイ',
                surface: 'にくい',
                tag: '接尾辞-形容詞的',
                tokens: [
                  {
                    dep: 'aux',
                    dict: 'にくい',
                    head: 3,
                    i: 4,
                    norm: '難い',
                    pos: 'AUX',
                    reading: 'ニクイ',
                    surface: 'にくい',
                    tag: '接尾辞-形容詞的',
                  },
                ],
                type: 'word',
              },
            ],
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'aux',
            dict: 'です',
            entryIds: ['1628500'],
            head: 3,
            i: 5,
            norm: '',
            pos: 'AUX',
            reading: 'デス',
            surface: 'です',
            tag: '助動詞',
            tokens: [
              {
                dep: 'aux',
                dict: 'です',
                head: 3,
                i: 5,
                norm: 'です',
                pos: 'AUX',
                reading: 'デス',
                surface: 'です',
                tag: '助動詞',
              },
            ],
            type: 'word',
          },
          {
            dep: 'punct',
            dict: '。',
            head: 3,
            i: 6,
            norm: '。',
            pos: 'PUNCT',
            reading: '。',
            surface: '。',
            tag: '補助記号-句点',
          },
        ]);
      });
    });
  });

  describe('numbers', () => {
    describe('price', () => {
      it('この家は八億九千五百四十三万二千百五十六円です。', async () => {
        expect.assertions(1);
        expect(
          await analyze('この家は八億九千五百四十三万二千百五十六円です。')
        ).toEqual([
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'det',
            dict: 'この',
            entryIds: ['1582920'],
            head: 1,
            i: 0,
            norm: '',
            pos: 'DET',
            reading: 'コノ',
            surface: 'この',
            tag: '連体詞',
            tokens: [
              {
                dep: 'det',
                dict: 'この',
                head: 1,
                i: 0,
                norm: '此の',
                pos: 'DET',
                reading: 'コノ',
                surface: 'この',
                tag: '連体詞',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'nsubj',
            dict: '家',
            entryIds: ['1191730', '1191740', '2082160'],
            head: 4,
            i: 1,
            norm: '',
            pos: 'NOUN',
            reading: 'イエ',
            surface: '家',
            tag: '名詞-普通名詞-一般',
            tokens: [
              {
                dep: 'nsubj',
                dict: '家',
                head: 4,
                i: 1,
                norm: '家',
                pos: 'NOUN',
                reading: 'イエ',
                surface: '家',
                tag: '名詞-普通名詞-一般',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'case',
            dict: 'は',
            entryIds: ['2028920'],
            head: 1,
            i: 2,
            norm: '',
            pos: 'ADP',
            reading: 'ハ',
            surface: 'は',
            tag: '助詞-係助詞',
            tokens: [
              {
                dep: 'case',
                dict: 'は',
                head: 1,
                i: 2,
                norm: 'は',
                pos: 'ADP',
                reading: 'ハ',
                surface: 'は',
                tag: '助詞-係助詞',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'ROOT',
            dict: '八億九千五百四十三万二千百五十六円',
            entryIds: ['1175570'],
            head: 4,
            i: 4,
            norm: '',
            pos: 'NOUN',
            reading:
              'ハチオクキュウセンゴヒャクヨンジュウサンマンニセンヒャクゴジュウロクエン',
            surface: '八億九千五百四十三万二千百五十六円',
            tag: '名詞-普通名詞-助数詞可能',
            tokens: [
              {
                dep: 'compound',
                dict: '八億九千五百四十三万二千百五十六',
                head: 4,
                i: 3,
                norm: '895432156',
                pos: 'NOUN',
                reading:
                  'ハチオクキュウセンゴヒャクヨンジュウサンマンニセンヒャクゴジュウロク',
                surface: '八億九千五百四十三万二千百五十六',
                tag: '名詞-数詞',
              },
              {
                dep: 'ROOT',
                dict: '円',
                head: 4,
                i: 4,
                norm: '円',
                pos: 'NOUN',
                reading: 'エン',
                surface: '円',
                tag: '名詞-普通名詞-助数詞可能',
              },
            ],
            type: 'numeric',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'cop',
            dict: 'です',
            entryIds: ['1628500'],
            head: 4,
            i: 5,
            norm: '',
            pos: 'AUX',
            reading: 'デス',
            surface: 'です',
            tag: '助動詞',
            tokens: [
              {
                dep: 'cop',
                dict: 'です',
                head: 4,
                i: 5,
                norm: 'です',
                pos: 'AUX',
                reading: 'デス',
                surface: 'です',
                tag: '助動詞',
              },
            ],
            type: 'word',
          },
          {
            dep: 'punct',
            dict: '。',
            head: 4,
            i: 6,
            norm: '。',
            pos: 'PUNCT',
            reading: '。',
            surface: '。',
            tag: '補助記号-句点',
          },
        ]);
      });
    });
    describe('people', () => {
      it('5人がテーブルに座っています。', async () => {
        expect.assertions(1);
        expect(await analyze('5人がテーブルに座っています。')).toEqual([
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'nsubj',
            dict: '5人',
            entryIds: ['2149890'],
            head: 5,
            i: 1,
            norm: '',
            pos: 'NOUN',
            reading: 'ゴニン',
            surface: '5人',
            tag: '接尾辞-名詞的-一般',
            tokens: [
              {
                dep: 'nummod',
                dict: '5',
                head: 1,
                i: 0,
                norm: '5',
                pos: 'NUM',
                reading: 'ゴ',
                surface: '5',
                tag: '名詞-数詞',
              },
              {
                dep: 'nsubj',
                dict: '人',
                head: 5,
                i: 1,
                norm: '人',
                pos: 'NOUN',
                reading: 'ニン',
                surface: '人',
                tag: '接尾辞-名詞的-一般',
              },
            ],
            type: 'numeric',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'case',
            dict: 'が',
            entryIds: ['2028930'],
            head: 1,
            i: 2,
            norm: '',
            pos: 'ADP',
            reading: 'ガ',
            surface: 'が',
            tag: '助詞-格助詞',
            tokens: [
              {
                dep: 'case',
                dict: 'が',
                head: 1,
                i: 2,
                norm: 'が',
                pos: 'ADP',
                reading: 'ガ',
                surface: 'が',
                tag: '助詞-格助詞',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'obl',
            dict: 'テーブル',
            entryIds: ['1078630'],
            head: 5,
            i: 3,
            norm: '',
            pos: 'NOUN',
            reading: 'テーブル',
            surface: 'テーブル',
            tag: '名詞-普通名詞-一般',
            tokens: [
              {
                dep: 'obl',
                dict: 'テーブル',
                head: 5,
                i: 3,
                norm: 'テーブル',
                pos: 'NOUN',
                reading: 'テーブル',
                surface: 'テーブル',
                tag: '名詞-普通名詞-一般',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'case',
            dict: 'に',
            entryIds: ['2028990'],
            head: 3,
            i: 4,
            norm: '',
            pos: 'ADP',
            reading: 'ニ',
            surface: 'に',
            tag: '助詞-格助詞',
            tokens: [
              {
                dep: 'case',
                dict: 'に',
                head: 3,
                i: 4,
                norm: 'に',
                pos: 'ADP',
                reading: 'ニ',
                surface: 'に',
                tag: '助詞-格助詞',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [
              {
                dep: 'mark',
                dict: 'て',
                head: 5,
                i: 6,
                norm: 'て',
                pos: 'SCONJ',
                reading: 'テ',
                surface: 'て',
                tag: '助詞-接続助詞',
              },
            ],
            deconjugation: [
              {
                conjugation: ['te'],
                dict: '座る',
                root: '座',
                suffix: 'って',
                type: 'v5r',
              },
            ],
            dep: 'ROOT',
            dict: '座る',
            entryIds: ['1291800'],
            head: 5,
            i: 5,
            norm: '',
            pos: 'VERB',
            reading: 'スワッテ',
            surface: '座って',
            tag: '動詞-一般',
            tokens: [
              {
                dep: 'ROOT',
                dict: '座る',
                head: 5,
                i: 5,
                norm: '座る',
                pos: 'VERB',
                reading: 'スワッ',
                surface: '座っ',
                tag: '動詞-一般',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [
              {
                dep: 'aux',
                dict: 'ます',
                head: 5,
                i: 8,
                norm: 'ます',
                pos: 'AUX',
                reading: 'マス',
                surface: 'ます',
                tag: '助動詞',
              },
            ],
            deconjugation: [
              {
                conjugation: ['causative', 'nonPast'],
                dict: 'いむ',
                root: 'い',
                suffix: 'ます',
                type: 'v5m',
              },
              {
                conjugation: ['formal'],
                dict: 'いる',
                root: 'い',
                suffix: 'ます',
                type: 'v1',
              },
            ],
            dep: 'fixed',
            dict: 'いる',
            entryIds: [
              '1322180',
              '1391500',
              '1465580',
              '1546640',
              '1577980',
              '1587780',
              '2209310',
              '2729170',
              '2851105',
              '2851106',
            ],
            head: 6,
            i: 7,
            norm: '',
            pos: 'VERB',
            reading: 'イマス',
            surface: 'います',
            tag: '動詞-非自立可能',
            tokens: [
              {
                dep: 'fixed',
                dict: 'いる',
                head: 6,
                i: 7,
                norm: '居る',
                pos: 'VERB',
                reading: 'イ',
                surface: 'い',
                tag: '動詞-非自立可能',
              },
            ],
            type: 'word',
          },
          {
            dep: 'punct',
            dict: '。',
            head: 5,
            i: 9,
            norm: '。',
            pos: 'PUNCT',
            reading: '。',
            surface: '。',
            tag: '補助記号-句点',
          },
        ]);
      });
    });
    describe('animals', () => {
      it('猫を3匹と犬を2匹飼っています。', async () => {
        expect.assertions(1);
        expect(await analyze('猫を3匹と犬を2匹飼っています。')).toEqual([
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'obj',
            dict: '猫',
            entryIds: ['1467640', '2698030'],
            head: 9,
            i: 0,
            norm: '',
            pos: 'NOUN',
            reading: 'ネコ',
            surface: '猫',
            tag: '名詞-普通名詞-一般',
            tokens: [
              {
                dep: 'obj',
                dict: '猫',
                head: 9,
                i: 0,
                norm: '猫',
                pos: 'NOUN',
                reading: 'ネコ',
                surface: '猫',
                tag: '名詞-普通名詞-一般',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'case',
            dict: 'を',
            entryIds: ['2029010'],
            head: 0,
            i: 1,
            norm: '',
            pos: 'ADP',
            reading: 'ヲ',
            surface: 'を',
            tag: '助詞-格助詞',
            tokens: [
              {
                dep: 'case',
                dict: 'を',
                head: 0,
                i: 1,
                norm: 'を',
                pos: 'ADP',
                reading: 'ヲ',
                surface: 'を',
                tag: '助詞-格助詞',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'nmod',
            dict: '3匹',
            entryIds: ['1583370'],
            head: 5,
            i: 3,
            norm: '',
            pos: 'NOUN',
            reading: 'サンヒキ',
            surface: '3匹',
            tag: '接尾辞-名詞的-助数詞',
            tokens: [
              {
                dep: 'nummod',
                dict: '3',
                head: 3,
                i: 2,
                norm: '3',
                pos: 'NUM',
                reading: 'サン',
                surface: '3',
                tag: '名詞-数詞',
              },
              {
                dep: 'nmod',
                dict: '匹',
                head: 5,
                i: 3,
                norm: '匹',
                pos: 'NOUN',
                reading: 'ヒキ',
                surface: '匹',
                tag: '接尾辞-名詞的-助数詞',
              },
            ],
            type: 'numeric',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'case',
            dict: 'と',
            entryIds: ['1008490'],
            head: 3,
            i: 4,
            norm: '',
            pos: 'ADP',
            reading: 'ト',
            surface: 'と',
            tag: '助詞-格助詞',
            tokens: [
              {
                dep: 'case',
                dict: 'と',
                head: 3,
                i: 4,
                norm: 'と',
                pos: 'ADP',
                reading: 'ト',
                surface: 'と',
                tag: '助詞-格助詞',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'obj',
            dict: '犬',
            entryIds: ['1258330'],
            head: 9,
            i: 5,
            norm: '',
            pos: 'NOUN',
            reading: 'イヌ',
            surface: '犬',
            tag: '名詞-普通名詞-一般',
            tokens: [
              {
                dep: 'obj',
                dict: '犬',
                head: 9,
                i: 5,
                norm: '犬',
                pos: 'NOUN',
                reading: 'イヌ',
                surface: '犬',
                tag: '名詞-普通名詞-一般',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'case',
            dict: 'を',
            entryIds: ['2029010'],
            head: 5,
            i: 6,
            norm: '',
            pos: 'ADP',
            reading: 'ヲ',
            surface: 'を',
            tag: '助詞-格助詞',
            tokens: [
              {
                dep: 'case',
                dict: 'を',
                head: 5,
                i: 6,
                norm: 'を',
                pos: 'ADP',
                reading: 'ヲ',
                surface: 'を',
                tag: '助詞-格助詞',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'obl',
            dict: '2匹',
            entryIds: ['1583370'],
            head: 9,
            i: 8,
            norm: '',
            pos: 'NOUN',
            reading: 'ニヒキ',
            surface: '2匹',
            tag: '接尾辞-名詞的-助数詞',
            tokens: [
              {
                dep: 'nummod',
                dict: '2',
                head: 8,
                i: 7,
                norm: '2',
                pos: 'NUM',
                reading: 'ニ',
                surface: '2',
                tag: '名詞-数詞',
              },
              {
                dep: 'obl',
                dict: '匹',
                head: 9,
                i: 8,
                norm: '匹',
                pos: 'NOUN',
                reading: 'ヒキ',
                surface: '匹',
                tag: '接尾辞-名詞的-助数詞',
              },
            ],
            type: 'numeric',
          },
          {
            conjugationTokens: [
              {
                dep: 'mark',
                dict: 'て',
                head: 9,
                i: 10,
                norm: 'て',
                pos: 'SCONJ',
                reading: 'テ',
                surface: 'て',
                tag: '助詞-接続助詞',
              },
            ],
            deconjugation: [
              {
                conjugation: ['te'],
                dict: '飼う',
                root: '飼',
                suffix: 'って',
                type: 'v5u',
              },
            ],
            dep: 'ROOT',
            dict: '飼う',
            entryIds: ['1312970'],
            head: 9,
            i: 9,
            norm: '',
            pos: 'VERB',
            reading: 'カッテ',
            surface: '飼って',
            tag: '動詞-一般',
            tokens: [
              {
                dep: 'ROOT',
                dict: '飼う',
                head: 9,
                i: 9,
                norm: '飼う',
                pos: 'VERB',
                reading: 'カッ',
                surface: '飼っ',
                tag: '動詞-一般',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [
              {
                dep: 'aux',
                dict: 'ます',
                head: 9,
                i: 12,
                norm: 'ます',
                pos: 'AUX',
                reading: 'マス',
                surface: 'ます',
                tag: '助動詞',
              },
            ],
            deconjugation: [
              {
                conjugation: ['causative', 'nonPast'],
                dict: 'いむ',
                root: 'い',
                suffix: 'ます',
                type: 'v5m',
              },
              {
                conjugation: ['formal'],
                dict: 'いる',
                root: 'い',
                suffix: 'ます',
                type: 'v1',
              },
            ],
            dep: 'fixed',
            dict: 'いる',
            entryIds: [
              '1322180',
              '1391500',
              '1465580',
              '1546640',
              '1577980',
              '1587780',
              '2209310',
              '2729170',
              '2851105',
              '2851106',
            ],
            head: 10,
            i: 11,
            norm: '',
            pos: 'VERB',
            reading: 'イマス',
            surface: 'います',
            tag: '動詞-非自立可能',
            tokens: [
              {
                dep: 'fixed',
                dict: 'いる',
                head: 10,
                i: 11,
                norm: '居る',
                pos: 'VERB',
                reading: 'イ',
                surface: 'い',
                tag: '動詞-非自立可能',
              },
            ],
            type: 'word',
          },
          {
            dep: 'punct',
            dict: '。',
            head: 9,
            i: 13,
            norm: '。',
            pos: 'PUNCT',
            reading: '。',
            surface: '。',
            tag: '補助記号-句点',
          },
        ]);
      });
    });
    describe('datetime', () => {
      it('今は令和4年11月27日12時7分25秒です。', async () => {
        expect.assertions(1);
        expect(await analyze('今は令和4年11月27日12時7分25秒です。')).toEqual([
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'obl',
            dict: '今',
            entryIds: ['1288850'],
            head: 14,
            i: 0,
            norm: '',
            pos: 'NOUN',
            reading: 'イマ',
            surface: '今',
            tag: '名詞-普通名詞-副詞可能',
            tokens: [
              {
                dep: 'obl',
                dict: '今',
                head: 14,
                i: 0,
                norm: '今',
                pos: 'NOUN',
                reading: 'イマ',
                surface: '今',
                tag: '名詞-普通名詞-副詞可能',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'case',
            dict: 'は',
            entryIds: ['2028920'],
            head: 0,
            i: 1,
            norm: '',
            pos: 'ADP',
            reading: 'ハ',
            surface: 'は',
            tag: '助詞-係助詞',
            tokens: [
              {
                dep: 'case',
                dict: 'は',
                head: 0,
                i: 1,
                norm: 'は',
                pos: 'ADP',
                reading: 'ハ',
                surface: 'は',
                tag: '助詞-係助詞',
              },
            ],
            type: 'word',
          },
          {
            name: 'era',
            tokens: [
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'compound',
                dict: '令和',
                entryIds: ['2839013'],
                head: 14,
                i: 2,
                norm: '',
                pos: 'NOUN',
                reading: 'レイワ',
                surface: '令和',
                tag: '名詞-固有名詞-一般',
                tokens: [
                  {
                    dep: 'compound',
                    dict: '令和',
                    head: 14,
                    i: 2,
                    norm: '令和',
                    pos: 'NOUN',
                    reading: 'レイワ',
                    surface: '令和',
                    tag: '名詞-固有名詞-一般',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'compound',
                dict: '4年',
                entryIds: ['2084840'],
                head: 14,
                i: 4,
                norm: '',
                pos: 'NOUN',
                reading: 'ヨンネン',
                surface: '4年',
                tag: '名詞-普通名詞-助数詞可能',
                tokens: [
                  {
                    dep: 'compound',
                    dict: '4',
                    head: 14,
                    i: 3,
                    norm: '4',
                    pos: 'NUM',
                    reading: 'ヨン',
                    surface: '4',
                    tag: '名詞-数詞',
                  },
                  {
                    dep: 'compound',
                    dict: '年',
                    head: 14,
                    i: 4,
                    norm: '年',
                    pos: 'NOUN',
                    reading: 'ネン',
                    surface: '年',
                    tag: '名詞-普通名詞-助数詞可能',
                  },
                ],
                type: 'numeric',
              },
            ],
          },
          {
            name: 'date',
            tokens: [
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'compound',
                dict: '11月',
                entryIds: ['1255430'],
                head: 14,
                i: 6,
                norm: '',
                pos: 'NOUN',
                reading: 'イチイチガツ',
                surface: '11月',
                tag: '名詞-普通名詞-助数詞可能',
                tokens: [
                  {
                    dep: 'compound',
                    dict: '11',
                    head: 14,
                    i: 5,
                    norm: '11',
                    pos: 'NUM',
                    reading: 'イチイチ',
                    surface: '11',
                    tag: '名詞-数詞',
                  },
                  {
                    dep: 'compound',
                    dict: '月',
                    head: 14,
                    i: 6,
                    norm: '月',
                    pos: 'NOUN',
                    reading: 'ガツ',
                    surface: '月',
                    tag: '名詞-普通名詞-助数詞可能',
                  },
                ],
                type: 'numeric',
              },
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'compound',
                dict: '27日',
                entryIds: ['2083100', '2083110', '2856786'],
                head: 14,
                i: 8,
                norm: '',
                pos: 'NOUN',
                reading: 'ニシチニチ',
                surface: '27日',
                tag: '名詞-普通名詞-助数詞可能',
                tokens: [
                  {
                    dep: 'compound',
                    dict: '27',
                    head: 14,
                    i: 7,
                    norm: '27',
                    pos: 'NUM',
                    reading: 'ニシチ',
                    surface: '27',
                    tag: '名詞-数詞',
                  },
                  {
                    dep: 'compound',
                    dict: '日',
                    head: 14,
                    i: 8,
                    norm: '日',
                    pos: 'NOUN',
                    reading: 'ニチ',
                    surface: '日',
                    tag: '名詞-普通名詞-助数詞可能',
                  },
                ],
                type: 'numeric',
              },
            ],
          },
          {
            name: 'time',
            tokens: [
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'compound',
                dict: '12時',
                entryIds: ['2020680'],
                head: 14,
                i: 10,
                norm: '',
                pos: 'NOUN',
                reading: 'イチニジ',
                surface: '12時',
                tag: '名詞-普通名詞-助数詞可能',
                tokens: [
                  {
                    dep: 'compound',
                    dict: '12',
                    head: 14,
                    i: 9,
                    norm: '12',
                    pos: 'NUM',
                    reading: 'イチニ',
                    surface: '12',
                    tag: '名詞-数詞',
                  },
                  {
                    dep: 'compound',
                    dict: '時',
                    head: 14,
                    i: 10,
                    norm: '時',
                    pos: 'NOUN',
                    reading: 'ジ',
                    surface: '時',
                    tag: '名詞-普通名詞-助数詞可能',
                  },
                ],
                type: 'numeric',
              },
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'compound',
                dict: '7分',
                entryIds: ['1502840'],
                head: 14,
                i: 12,
                norm: '',
                pos: 'NOUN',
                reading: 'シチフン',
                surface: '7分',
                tag: '名詞-普通名詞-助数詞可能',
                tokens: [
                  {
                    dep: 'compound',
                    dict: '7',
                    head: 14,
                    i: 11,
                    norm: '7',
                    pos: 'NUM',
                    reading: 'シチ',
                    surface: '7',
                    tag: '名詞-数詞',
                  },
                  {
                    dep: 'compound',
                    dict: '分',
                    head: 14,
                    i: 12,
                    norm: '分',
                    pos: 'NOUN',
                    reading: 'フン',
                    surface: '分',
                    tag: '名詞-普通名詞-助数詞可能',
                  },
                ],
                type: 'numeric',
              },
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'ROOT',
                dict: '25秒',
                entryIds: ['1490430'],
                head: 14,
                i: 14,
                norm: '',
                pos: 'NOUN',
                reading: 'ニゴビョウ',
                surface: '25秒',
                tag: '名詞-普通名詞-助数詞可能',
                tokens: [
                  {
                    dep: 'nummod',
                    dict: '25',
                    head: 14,
                    i: 13,
                    norm: '25',
                    pos: 'NUM',
                    reading: 'ニゴ',
                    surface: '25',
                    tag: '名詞-数詞',
                  },
                  {
                    dep: 'ROOT',
                    dict: '秒',
                    head: 14,
                    i: 14,
                    norm: '秒',
                    pos: 'NOUN',
                    reading: 'ビョウ',
                    surface: '秒',
                    tag: '名詞-普通名詞-助数詞可能',
                  },
                ],
                type: 'numeric',
              },
            ],
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'cop',
            dict: 'です',
            entryIds: ['1628500'],
            head: 14,
            i: 15,
            norm: '',
            pos: 'AUX',
            reading: 'デス',
            surface: 'です',
            tag: '助動詞',
            tokens: [
              {
                dep: 'cop',
                dict: 'です',
                head: 14,
                i: 15,
                norm: 'です',
                pos: 'AUX',
                reading: 'デス',
                surface: 'です',
                tag: '助動詞',
              },
            ],
            type: 'word',
          },
          {
            dep: 'punct',
            dict: '。',
            head: 14,
            i: 16,
            norm: '。',
            pos: 'PUNCT',
            reading: '。',
            surface: '。',
            tag: '補助記号-句点',
          },
        ]);
      });
      it('午前九時半に会いましょう。', async () => {
        expect.assertions(1);
        expect(await analyze('午前九時半に会いましょう。')).toEqual([
          {
            name: 'time',
            tokens: [
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'compound',
                dict: '午前',
                entryIds: ['1269060'],
                head: 3,
                i: 0,
                norm: '',
                pos: 'NOUN',
                reading: 'ゴゼン',
                surface: '午前',
                tag: '名詞-普通名詞-副詞可能',
                tokens: [
                  {
                    dep: 'compound',
                    dict: '午前',
                    head: 3,
                    i: 0,
                    norm: '午前',
                    pos: 'NOUN',
                    reading: 'ゴゼン',
                    surface: '午前',
                    tag: '名詞-普通名詞-副詞可能',
                  },
                ],
                type: 'word',
              },
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'compound',
                dict: '九時',
                entryIds: ['2020680'],
                head: 3,
                i: 2,
                norm: '',
                pos: 'NOUN',
                reading: 'キュウジ',
                surface: '九時',
                tag: '名詞-普通名詞-助数詞可能',
                tokens: [
                  {
                    dep: 'compound',
                    dict: '九',
                    head: 3,
                    i: 1,
                    norm: '9',
                    pos: 'NUM',
                    reading: 'キュウ',
                    surface: '九',
                    tag: '名詞-数詞',
                  },
                  {
                    dep: 'compound',
                    dict: '時',
                    head: 3,
                    i: 2,
                    norm: '時',
                    pos: 'NOUN',
                    reading: 'ジ',
                    surface: '時',
                    tag: '名詞-普通名詞-助数詞可能',
                  },
                ],
                type: 'numeric',
              },
              {
                conjugationTokens: [],
                deconjugation: null,
                dep: 'obl',
                dict: '半',
                entryIds: ['1478750'],
                head: 5,
                i: 3,
                norm: '',
                pos: 'NOUN',
                reading: 'ハン',
                surface: '半',
                tag: '名詞-普通名詞-一般',
                tokens: [
                  {
                    dep: 'obl',
                    dict: '半',
                    head: 5,
                    i: 3,
                    norm: '半',
                    pos: 'NOUN',
                    reading: 'ハン',
                    surface: '半',
                    tag: '名詞-普通名詞-一般',
                  },
                ],
                type: 'word',
              },
            ],
          },
          {
            conjugationTokens: [],
            deconjugation: null,
            dep: 'case',
            dict: 'に',
            entryIds: ['2028990'],
            head: 3,
            i: 4,
            norm: '',
            pos: 'ADP',
            reading: 'ニ',
            surface: 'に',
            tag: '助詞-格助詞',
            tokens: [
              {
                dep: 'case',
                dict: 'に',
                head: 3,
                i: 4,
                norm: 'に',
                pos: 'ADP',
                reading: 'ニ',
                surface: 'に',
                tag: '助詞-格助詞',
              },
            ],
            type: 'word',
          },
          {
            conjugationTokens: [
              {
                dep: 'aux',
                dict: 'ます',
                head: 5,
                i: 6,
                norm: 'ます',
                pos: 'AUX',
                reading: 'マショウ',
                surface: 'ましょう',
                tag: '助動詞',
              },
            ],
            deconjugation: [
              {
                conjugation: ['formal', 'volitional'],
                dict: '会う',
                root: '会',
                suffix: 'いましょう',
                type: 'v5u',
              },
            ],
            dep: 'ROOT',
            dict: '会う',
            entryIds: ['1198180'],
            head: 5,
            i: 5,
            norm: '',
            pos: 'VERB',
            reading: 'アイマショウ',
            surface: '会いましょう',
            tag: '動詞-一般',
            tokens: [
              {
                dep: 'ROOT',
                dict: '会う',
                head: 5,
                i: 5,
                norm: '会う',
                pos: 'VERB',
                reading: 'アイ',
                surface: '会い',
                tag: '動詞-一般',
              },
            ],
            type: 'word',
          },
          {
            dep: 'punct',
            dict: '。',
            head: 5,
            i: 7,
            norm: '。',
            pos: 'PUNCT',
            reading: '。',
            surface: '。',
            tag: '補助記号-句点',
          },
        ]);
      });
    });
  });
});
